!function(e,t){"use strict";"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ts=t()}("undefined"!=typeof window?window:this,function(){"use strict";var pp=console.log,pd=console.dir,pt=console.table,NAME="Transmit",VERSION="1.0",isSupportSessionStorage="object"==typeof sessionStorage,protocolRegExp=(isSupportSessionStorage&&_forEach(sessionStorage,(e,t)=>{/^log-ts#/.test(t)&&sessionStorage.removeItem(t)}),new RegExp("^([^/:]+){1}://"));function objectType(e){return Object&&Object.prototype.toString.call(e)}function isArrayBuffer(e){return"object"==typeof e&&"[object ArrayBuffer]"===objectType(e)}function isBlob(e){return"object"==typeof e&&"[object Blob]"===objectType(e)}function isStorage(e){return"object"==typeof e&&"[object Storage]"===objectType(e)}function isDataTransfer(e){"object"==typeof e&&objectType(e)}function isFileList(e){return"object"==typeof e&&"[object FileList]"===objectType(e)}function isFile(e){return"object"==typeof e&&"[object File]"===objectType(e)}function isFormData(e){return"object"==typeof e&&"[object FormData]"===objectType(e)}function isPromise(e){"object"==typeof e&&objectType(e)}function isAsyncFunction(e){return"function"==typeof e&&"[object AsyncFunction]"===objectType(e)}function isFunction(e){return"function"==typeof e&&"[object Function]"===objectType(e)}function isFunctions(e){return isFunction(e)||isAsyncFunction(e)}function isNull(e){return null==e}function isElement(e){"object"!=typeof e||e instanceof Element||0 instanceof HTMLElement}function isArray(e){return"object"==typeof e&&"[object Array]"===objectType(e)&&e instanceof Array}function isArrays(e){return isArray(e)&&e.length}function isObject(e){return"object"==typeof e&&"[object Object]"===objectType(e)}function isObjects(e){return isObject(e)&&Object&&Object.keys(e).length}function isString(e){return"string"==typeof e}function isStrings(e){return isString(e)&&""!=e.trim()}function isBoolean(e){return"boolean"==typeof e}function isNumeric(e){return"number"==typeof e||isStrings(e)&&/^\d+$/.test(e)}function inObject(e,t){return isStrings(e)&&"object"==typeof t&&!isNull(t)&&e in t}function urlinfo(str,type){"string"!=typeof type&&"number"!=typeof type&&(type=null),"string"==typeof type&&""===type.trim()&&(type=null),str=new String(str).toString();var checkRegExp=/([^\/]+)+\/(.+){1}$/,explode,dirname,basename,filename,extension,hash,search,protocol,host,hostname,origin,username,password,port,pathname,list,i,key,value,implode,checkRegExp;return checkRegExp.test(str)?(explode=str.match(checkRegExp),dirname=explode[1],basename=explode[2],-1!==basename.indexOf("#")&&(hash=basename.substring(basename.indexOf("#")),basename=basename.substring(0,basename.indexOf("#"))),-1!==basename.indexOf("?")&&(search=basename.substring(basename.indexOf("?")),basename=basename.substring(0,basename.indexOf("?"))),-1!==basename.lastIndexOf("/")?(basename=basename.substring(0,basename.lastIndexOf("/")),dirname+="/"+basename,basename=""):-1!==basename.lastIndexOf(".")?(extension=basename.substring(basename.lastIndexOf(".")+1),filename=basename.substring(0,basename.lastIndexOf("."))):-1===basename.lastIndexOf(".")&&(dirname+="/"+basename,basename=""),implode={original:str,dirname:dirname,basename:basename,extension:extension,filename:filename},checkRegExp=/^([^\/]+){1}\/\/(([^\/:@]+:[^\/:@]+|[^\/:@]+)+@)*([^\/:@]+){1}(:[^\/:@]+)*(\/.+)*/,checkRegExp.test(dirname)&&(explode=dirname.match(checkRegExp),origin=explode[1]+"//"+explode[4],protocol=explode[1],explode[3]&&""!==explode[3]&&(username=explode[3],-1!==explode[3].indexOf(":"))&&(username=explode[3].substring(0,explode[3].indexOf(":")),password=explode[3].substring(explode[3].indexOf(":")+1)),host=hostname=explode[4],explode[5]&&""!==explode[5]&&(port=explode[5].substring(explode[5].indexOf(":")+1)),explode[6])&&""!==explode[6]&&(pathname=explode[6]+"/"+basename),list="search hash protocol host hostname origin username password port pathname".split(" "),list.forEach(key=>{value=eval(""+key),null!=value&&(implode[key]=value)}),null!==typeof type&&null!=type&&""!==type?(list="dirname basename filename extension search hash protocol host hostname origin username password port pathname".split(" "),list.forEach((e,t)=>{if(-1!==[t,""+t,e].indexOf(type)&&e in implode)return value=implode[e],!1}),value||""):(value=key=i=list=protocol=hostname=host=origin=username=password=port=pathname=search=hash=extension=filename=basename=dirname=explode=checkRegExp=str=null,implode)):str}function toObject(e){var t=e.substr(0),s=e.substr(-1);return!isStrings(e)||"{"!==t&&"}"!==s&&"["!==t&&"]"!==s||"object"!=typeof JSON?e:(0,JSON.parse(e))}function toJsonString(e){return!isObject(e)&&!isArray(e)||"object"!=typeof JSON?e:JSON.stringify(e)}function toNumeric(e){return isNumeric(e)?-1!==e.indexOf(".")?parseFloat(e):parseInt(e,10):e}function capitalize(e,t){return(!t||!0!==t&&1!==t?e:e.toLowerCase()).replace(/(?:^|\s|["'([{])+\S/g,e=>e.toUpperCase())}function _extend(){var e,t,s,n,o,r,i=arguments[0]||{},a=1,l=arguments.length,u=!1;for(isBoolean(i)&&(u=i,i=arguments[1]||{},a=2),"object"==typeof i||isFunctions(i)||(i={});a<l;a++)if(!isNull(n=arguments[a]))if(isFunctions(i))isArrays(r=utils.grep(n,(e,t)=>({key:t,value:e})))&&(!0===u?utils.bindProps(i,r):utils.forEach(r,e=>{isObjects(e)&&(i[e.key]=e.value)}),0);else for(s in n)e=i[s],t=n[s],i!==t&&(u&&t&&(isObject(t)||isArray(t))?(o=isObject(e)||isArray(e)||isFormData(e)?e:isArray(e)?[]:{},i[s]=utils.extend(u,o,t)):void 0!==t&&(o=t,isFormData(e)&&isFormData(t)?(o=e,t.forEach((e,t)=>o.append(t,e))):isArray(e)&&isArray(t)?o=[...e,...t]:isObject(e)&&isObject(t)&&(o={...e,...t}),i[s]=o),t=null);return i}function _forEach(e,s,t){var n=!(isObjects(e)||isStorage(e)||isArrays(e)||isFileList(e)),o=!isFunctions(s);if(!n&&!o){var r,i,a,l;if(isBoolean(t=isNumeric(t)?1===t:t)||(t=!1),isArrays(e)||isFileList(e)?l=e.length:isStorage(e)?l=(a=_grep(e,(e,t)=>t)||null)&&a.length||0:isObjects(e)&&(l=(a=Object.keys(e)||null)&&a.length||0),!0===t&&1<l)for(r=l-1;0<r;r--)u(e[i=isArrays(a)?a[r]:r],i),i=null;else for(r=0;r<l;r++)u(e[i=isArrays(a)?a[r]:r],i),i=null}function u(e,t){s.call(null,e,t)}}function _randomString(e,t){isNumeric(e)||(e=16);for(var s="",n=(t=isStrings(t)?t:(t="abcdefghijklmnopqrstuvwxyz")+t.toUpperCase()+"0123456789").length;e--;)s+=t[Math.random()*n|0];return s}function _generateID(){var e="ts#"+utils.randomString();return-1!==utils.ids.indexOf(e)?_generateID():(utils.ids.push(e),e)}async function _convertBlob(o,r){if(isBlob(o=isArrayBuffer(o)?new Blob([o]):o))return isStrings(r)&&-1!=="base64 text arraybuffer".split(" ").indexOf(r.toLowerCase())||(r="text"),new Promise((e,t)=>{try{var s=new FileReader;s.onloadend=()=>e(s.result),"base64"===r.toLowerCase()?s.readAsDataURL(o):"arraybuffer"===r.toLowerCase()?s.readAsArrayBuffer(o):"text"===r.toLowerCase()&&s.readAsText(o)}catch(e){var n=`Covert Blob fail, Deatil message:`+e;utils.log(n,0,3),t(n)}})}function _blobAsBase64(e){return _convertBlob(e,"base64")}function _blobAsText(e){return _convertBlob(e,"text")}function _saveBlobData(e,t){var s;isBlob(e=isArrayBuffer(e)?new Blob([e]):e)&&(s=document.createElement("a"),e=URL.createObjectURL(e),s.href=e,s.download=t,s.click(),s.href="",URL.revokeObjectURL(e),s.remove())}function _getCombineURL(e){var t,s,n,o;if(isObjects(e))return t=e.url,e=e.baseURL,s=t,n=urlinfo(location.href),isStrings(e)&&(/^(\/){2}.+/.test(e)&&(e=""+n.protocol+e),isStrings(t)?protocolRegExp.test(t)||(/^(\/){1}.+/.test(t)&&!/^(\/){1}.+/.test(e)?(isObjects(o=urlinfo(e))&&protocolRegExp.test(o.original)&&(s=""+o.original+t),o=null):s=[e,t].join(/^(\/){1}.+/.test(t)?"":"/")):s=e),protocolRegExp.test(s)||(s=/^(\/){1}.+/.test(s)?""+n.origin+s:(/^(\.\/){1}.+/.test(s)&&(s=s.substring(2)),n.dirname+"/"+s)),n=e=t=null,s}function _encryptionRequestData(e,t){return"undefined"==typeof Base64?utils.log("Can't find Base64 class module.",0,2):isObjects(e)&&"object"==typeof t?utils.extend(!1,t,{"X-Request":Base64.encode(toJsonString(e))}):void 0}function _grep(e,t){if("object"!=typeof e&&"function"!=typeof e)return e;for(var s,n=Object.getOwnPropertyNames(e),o=("function"==typeof e&&(s="name length prototype constructor callee caller arguments".split(" ")),null),r=0;r<n.length;r++){var i,a=n[r];s&&-1!==s.indexOf(a.toLowerCase())||(isArray(o)||(o=[]),isNull(i=t.call(null,e[a],a)))||(o.push(i),i=a=null)}return s=n=null,o}function _checkConfigs(e){if(isObjects(e)){var t,s="async autoContentType cache encryption log baseURL method logRecord timeouts withcredentials responseType url data headers done fail cancel abort error loadend readystatechange timeout download downloadProgress upload uploadProgress".toLowerCase().split(" "),n={};for(t in e){var o,r,i,a,l=t.toLowerCase();-1===s.indexOf(l)?(n[t]=e[t],delete e[t]):(o=e[t],"log"===l?o=null:"data"===l?isObjects(o)||isFormData(o)||(o={}):"timeouts"===l?isStrings(o)?(a="h m s".split(" "),i=o.substr(-1),-1!==a.indexOf(i)?(o=toNumeric(o.substring(0,o.length-1)),i===a[0]?r=3600:i===a[1]?r=60:i===a[2]&&(r=1),isNumeric(r)&&(o*=1e3*r)):o=toNumeric(o.replace(/[^\d\.]+/g,"")),i=a=r=null):isNumeric(o)?o<100&&(o*=1e3):o=null:-1!=="async autoContentType cache encryption logRecord".toLowerCase().split(" ").indexOf(l)?(isBoolean(o=isNumeric(o)?1===o:o)||(o=!1),"encryption"===l&&!0===o&&"undefined"==typeof Base64&&(a=["Can't find Base64 class module, `Encryption` now set to false.","Please include the Base64 class module, You can go to [ https://github.com/dankogai ] to get it."].join("\n"),utils.log(a,0,2),o=!1)):-1!=="baseurl method responseType url withcredentials".toLowerCase().split(" ").indexOf(l)?isString(o)?"baseurl"===l&&"/"===o.substr(-1)?o=o.substring(0,o.lastIndexOf("/")):"responsetype"===l&&-1==="arraybuffer blob document json text".toLowerCase().split(" ").indexOf(o.toLowerCase())&&(o="text"):o="responsetype"===l?"text":"method"===l?"get":null:-1!=="headers".toLowerCase().split(" ").indexOf(l)?isObject(o)||(o={}):-1==="done fail cancel abort error loadend readystatechange timeout download downloadProgress upload uploadProgress".toLowerCase().split(" ").indexOf(l)||isFunctions(o)||(o=null),null===o&&-1==="timeouts".toLowerCase().split(" ").indexOf(l)?delete e[t]:e[t]=o,o=null)}return utils.extend(e.data,n),n=s=t=null,e}}function _defineProperties(s,e){"object"!=typeof s&&"function"!=typeof s||!isArrays(e)||_forEach(e,(e,t)=>{e.enumerable=e.enumerable||!1,e.configurable=e.configurable||!0,inObject("value",e)&&(e.writable=e.writable||!0),Object.defineProperty(s,e.key,e)})}function _bindProps(e,t,s){return isArrays(t)&&_defineProperties(e.prototype,t),isArrays(s)&&_defineProperties(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Error(message,fn,status,url,configs){var self,k,v,list,limit,stack;message&&(self=this,Error.call(self),Error.captureStackTrace?Error.captureStackTrace(self,self.constructor):self.stack=(new Error).stack,self.message=message,self.name="Error",list="fn status url configs".split(" "),list.forEach(k=>{v=eval(k),v&&(self[k]=v),v=null}),v=k=list=null,isStrings(self.stack))&&(limit=3,stack=self.stack.split("\n"),stack)&&stack.length>limit&&(new RegExp(`^${self.name}:s`+self.message).test(stack[0])||stack.splice(0,0,self.name+": "+self.message),stack=stack.slice(0,limit),self.stack=stack.join("\n"))}function _log(e,t,s){var n="log info warn error dir table".split(" ");function o(){return["color: initianl","background-color: transparent","margin: 0","padding: 0","line-height: normal"].join(";")}function r(e,t){return["color: "+e,"background-color: "+t,"text-transform: uppercase","line-height: normal","margin: 2px 2px 4px","padding: 2px 4px","border-radius: 4px"].join(";")}function i(e,t){return["color: "+e,"background-color: "+t,"border-left: 4px solid "+e,"line-height: normal","margin: 2px","padding: 2px 4px","border-radius: 4px"].join(";")}(!isNumeric(s)&&null!=s||isNumeric(s)&&3<s)&&(s=0),(!isNumeric(t)&&!isStrings(t)||isNumeric(t)&&t>n.length||isStrings(t)&&-1===n.indexOf(t))&&(t=0),isStrings(t)&&(t=n.indexOf(t));n=n[t];inObject(n,console)?(1<t&&!isNull(s)&&(s=null),!isNull(s)&&0<=s&&s<4?console[n]("%c%s%c\n%c"+("object"==typeof e?"%o":"%s"),r("#fff","#29547e"),NAME,o(),i(["#000","#00d","#440","#f00"][s],["transparent","#eef","#fffbdc","#fdd"][s]),e):console[n](e)):console.log("%c%s%c\n%c%s",r("#fff","#29547e"),NAME,o(),i("#f00","#fdd"),"Console not support console."+n)}async function _Adapter(O){let i=this;return new Promise((r,i)=>{utils.checkConfigs(O);var e,s,n,t=O.async||!0,o=O.cache||!1,a=(O.baseURL,O.data||{}),l=O.encryption||!1,u=O.headers||{},c=(O.method||"get").toUpperCase(),p=O.responseType||null,d=O.timeouts||null,f=(O.url,O.withCredentials||!1),g=-1!=="patch post put".toUpperCase().split(" ").indexOf(c),b=utils.getCombineURL(O),m=!1,h=urlinfo(b);inObject("origin",h)&&isStrings(h.origin)&&isStrings(h.host)&&(m=location.origin===h.origin&&location.host===h.host),!null===o&&(e={_:Date.now()}),(isObjects(a)||isFormData(a))&&(s={},n={},h=(e,t)=>{isFile(e)?(inObject(t,s)||(s[t]=[]),s[t].push(e)):n[t]=e},isObjects(a)?utils.forEach(a,h):isFormData(a)&&a.forEach(h),isObjects(n)&&(a=n),isObjects(e)&&utils.extend(a,e),!0===l?(u=utils.encryptionRequestData(a,u),a=null):g?isFormData(a)||(n=new FormData,utils.forEach(a,(e,t)=>n.append(t,e)),a=n,n=null):(-1===b.lastIndexOf("?")&&(b+="?"),"function"==typeof URLSearchParams?b+=new URLSearchParams(a).toString():b+=utils.grep(a,(e,t)=>encodeURIComponent(t)+"="+encodeURIComponent(e)).join("&"),a=null),isObjects(s)&&(isFormData(a)||(a=new FormData),utils.forEach(s,(e,t)=>{isArrays(e)&&utils.forEach(e,e=>a.append(t,e))})),h=n=s=null),e=null;try{var y=new XMLHttpRequest,x=(y.open(c,b,t),g&&!inObject("Content-Type",u||{})&&y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),isObjects(u)&&utils.forEach(u,(e,t)=>{"Content-Type"===t&&!isStrings(e)||y.setRequestHeader(t,e)}),null!==d&&0!==d&&(y.timeout=d),null!==f&&(y.withCredentials=f),null!==p&&!0!==O.autoContentType?y.responseType=p:/\.(avif|bmp|gif|ico|jp(e)*g|png|webp){1}/i.test(b)?y.responseType="blob":/\.(7z|au|avi|gz|mid(i)*|mov|mp(3|4)+|mp(e)*g|ra(m)*|rar|tar|ts){1}/i.test(b)?y.responseType="arraybuffer":/\.((x)*htm(l)*|xml){1}/i.test(b)?y.responseType="document":/\.(json){1}/i.test(b)?y.responseType="json":y.responseType="text",(j="downloadProgress uploadProgress".split(" ")).forEach(e=>{var t,s;inObject(e,O)&&isFunctions(O[e])&&(isNull(t="uploadProgress"===e?y.upload:y)||(s=e.replace("Progress",""),t.addEventListener("progress",utils.progress(O[e],s))))}),j=null,function(e,t){return new utils.error(e,"XMLHttpRequest."+t,y.status||-1,y.responseURL||b,O)}),j="abort error timeout loadend readystatechange".split(" ");j.forEach(o=>{y["on"+o]=async function(){if(y){var e,t,s,n;if(-1!=="abort error timeout".split(" ").indexOf(o)){if("abort"===o)return;"timeout"===o?e=d?`Timeout of ${d}ms exceeded`:"Timeout exceeded":"abort"===o?e="Request aborted":"error"===o&&("arraybuffer blob".split(" ").indexOf(O.responseType.toLowerCase()),e="Network Error",!0!==m)&&(e+=" Or Origin has been blocked by CORS policy"),i(x(e,o))}else{if("readystatechange"===o)return!(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))||(2!==y.readyState&&y.readyState,inObject("onloadend",y))||4!==y.readyState?void 0:setTimeout(y.onloadend);-1!=="loadend".split(" ").indexOf(o)&&(t={},y.getAllResponseHeaders().split("\r\n").forEach(e=>{isStrings(e)&&(e=e.match(/^([^:]+){1}:(\s)*(.+){1}$/)[1],t[e]=y.getResponseHeader(e))}),n=y.responseType&&"text"!==y.responseType&&"json"!==y.responseType?y.response:y.responseText,s={function:o,configs:O,data:n,headers:t,url:y.responseURL||b,type:y.responseType,status:y.status,statusText:y.statusText,request:y},n=t=null,!s.status||200<=s.status&&s.status<300?r(s):i(x(e="Request failed with status code "+s.status,o)),s=null)}y=null}}}),j=null,y.send(a||null)}catch(e){i(x(e,"adapter.catch"))}}).then(async function(e){var t,s=e.function,n=(i.logAdd("XMLHttpRequest."+s,e.status,e.url,O),e.headers),o=e.data,r=e.request.getResponseHeader("content-type")||"",e=(r.includes("application/json")?(isArrayBuffer(o)?o=String.fromCharCode.apply(String,new Uint8Array(o)):isBlob(o)&&(o=await utils.blobAsText(o)),isStrings(o)&&(o=toObject(o))):!r.includes("video/")&&!r.includes("image/")||isArrayBuffer(o)||isBlob(o),{status:e.status,statusText:e.statusText,url:e.url,data:o,headers:n}),n={abort:"cancel",error:"fail",loadend:"done"};return inObject(s,n)&&inObject(n[s],O)&&isFunctions(O[n[s]])?t=O[n[s]]:inObject(s,O)&&isFunctions(O[s])&&(t=O[s]),isFunctions(t)?t.call(i,e):(t=r=o=null,e)},function(t){var s;isObjects(t)&&(s=[],"fn status url configs".split(" ").forEach(e=>{s.push(t[e]||null)}),s.push(t.message),i.logAdd.apply(i,s),s=null,inObject("stack",t))&&utils.log(t.stack,0,3)})}function _dispatchRequest(e,t,s){function n(e,t){return inObject("data",e=utils.extend(!1,e||{},t))||(e.data={}),utils.checkConfigs(e),e}var o,r=!!isStrings(t)&&-1!==utils.allowMethod.indexOf(t),r=(isStrings(e)?((s=isFormData(s=s||{})?{data:s}:s).url=e,r?s.method=t:isObjects(t)?s=n(s,t):isFormData(t)&&(s.data=t)):r?(s=s||{}).method=t:isObjects(e)?s=n(s,e):isFormData(e)&&((s=s||{}).data=e),utils.extend(!1,this.configs,s));try{o=utils.adapter.call(this,r)}catch(e){return Promise.reject(new utils.error(error,"request.catch"))}return o}function _speedometer(r,i){r=r||10;var a,l=new Array(r),u=new Array(r),c=0,p=0;return i=void 0!==i?i:1e3,function(e){for(var t=Date.now(),s=u[p],n=(a=a||t,l[c]=e,u[c]=t,p),o=0;n!==c;)o+=l[n++],n%=r;return(c=(c+1)%r)===p&&(p=(p+1)%r),!(t-a<i)&&(e=s&&t-s)?Math.round(1e3*o/e):void 0}}function _dispatchProgress(r,i){var a=0,l=_speedometer(50,250);return function(e){var t=e.loaded,s=e.lengthComputable?e.total:void 0,n=t-a,o=l(n),n={loaded:a=t,total:s,progress:s?t/s:void 0,bytes:n,rate:o||void 0,estimated:o&&s&&t<=s?(s-t)/o:void 0,event:e};n[i]=!0,r(n)}}function _dispatchDownload(e){if(this&&isObjects(this.configs)){var t=this;if(isStrings(e)&&!/(\n|\r|\t|\s)+/.test(e)){var s=utils.extend(!1,t.configs,{url:e,timeouts:!1}),n=utils.getCombineURL(s);if(isStrings(n)&&/^([^\/:]+){1}:\/\/.+/.test(n))return t(n,s).then(e=>{if(isObjects(e)&&200===e.status)return t.save(e);utils.log("Error: Failed to get data",0,3)});0}if(isObjects(e)&&inObject("data",e)&&inObject("url",e))return t.logAdd("save",e.status,e.url),(isObject(e.data)||isArray(e.data))&&(e.data=toJsonString(e.data)),isStrings(e.data)&&(e.data=new Blob([e.data])),utils.saveBlobData(e.data,urlinfo(e.url,1));utils.log(`Error: Wrong request method`+toJsonString(e),0,3)}}function _dispatchUpload(e,t){if(isStrings(t)||(t="files"),this&&isObjects(this.configs)){var s,n;if(isArrays(e)||isFileList(e)||isFormData(e)){if(isFormData(e)?(s=[],e.forEach((e,t)=>{isFile(e)&&s.push(e)})):s=isFileList(e)?e:utils.grep(e,e=>{if(isFile(e))return e}),!isArrays(s)&&!isFileList(s))return void utils.log("Error: Not any file",0,3);isFormData(e)?n=e:(1<s.length&&!/(\[\]){1}$/.test(t)&&(t+="[]"),n=new FormData,utils.forEach(s,e=>n.append(t,e)));var o=utils.extend(!1,this.configs,{headers:{"Content-Type":!1},timeouts:!1,method:"post",data:n}),r=utils.getCombineURL(o);if(isStrings(r)&&/^([^\/:]+){1}:\/\/.+/.test(r))return this(r,o);n=s=null}utils.log(`Error: Wrong request method`+toJsonString(e),0,3)}}_bindProps(_log,null,[{key:"add",value:function(e,t,s,n,o){var r;if(this&&this.id&&(!this.configs||!0===this.configs.logRecord))return(r=this.logGet()).push({function:e||null,status:t||null,url:s||null,configs:n||null,contents:o||null,timestamp:(new Date).getTime()}),isSupportSessionStorage&&sessionStorage.setItem("log-"+this.id,toJsonString(r)),r=null,this}},{key:"get",value:function(){var e;if(this&&this.id)return isSupportSessionStorage?isStrings(e=sessionStorage.getItem("log-"+this.id)||[])&&(e=toObject(e)):e=this.log,e}},{key:"show",value:function(){var e;if(this&&this.id)return this.configs&&!0!==this.configs.logRecord?utils.log("Logging not turned on",0,2):(e=this.logGet()).length?(console.table(e),e=null,this):utils.log("No logs now",0,2)}}]);var _allowMethod="get head put post patch delete options".split(" "),utils={adapter:_Adapter,allowMethod:_allowMethod,bindProps:_bindProps,blobAsBase64:_blobAsBase64,blobAsText:_blobAsText,checkConfigs:_checkConfigs,convertBlob:_convertBlob,defineProperties:_defineProperties,download:_dispatchDownload,encryptionRequestData:_encryptionRequestData,error:_Error,extend:_extend,forEach:_forEach,generateID:_generateID,getCombineURL:_getCombineURL,grep:_grep,progress:_dispatchProgress,randomString:_randomString,request:_dispatchRequest,upload:_dispatchUpload,ids:[],log:_log,saveBlobData:_saveBlobData},Transmit=function(){function Transmit(e){if(!(this instanceof Transmit))throw new TypeError("Cannot call a class as a function");this.id=utils.generateID(),this.log=[],this.configs=e}function createBind(name,fn){fn=fn||name;var fns=-1!==fn.indexOf(".")?eval("utils."+fn):utils[fn];return{key:name,value:function(){return fns.apply(this,arguments)}}}var bindCache=[],bindList="download request upload".split(" ");return utils.forEach(bindList,e=>{bindCache.push(createBind(e)),"download"===e&&bindCache.push(createBind("save",e))}),bindList="add get show".split(" "),utils.forEach(bindList,e=>{bindCache.push(createBind("log"+capitalize(e),"log."+e))}),bindList=null,utils.bindProps(Transmit,bindCache),bindCache=null,Transmit}();function _createInstance(t){if(!isFunction(XMLHttpRequest))throw new utils.error("The browser does not support XMLHttpRequest");utils.checkConfigs(t);function s(){return Transmit.prototype.request.apply(e,arguments)}var e=new Transmit(t);return Object.getOwnPropertyNames(Transmit.prototype).forEach(e=>{var t;-1==="constructor".split(" ").indexOf(e)&&("log"===e?s[e]=[]:(t=Transmit.prototype[e],s[e]=function(){return t.apply(this,arguments)}))}),utils.extend(s,e),s.create=function(e){return _createInstance(utils.extend(!1,t,e))},s}utils.forEach(utils.allowMethod,function(s){function e(e,t){return e=utils.extend(!1,t||{},{url:isStrings(e)?e:(t||{}).url||"",method:s,data:isObjects(e)||isFormData(e)?e:(t||{}).data||{}}),n&&(e.headers=utils.extend(!1,e.headers,{"Content-Type":"multipart/form-data"})),this.request.call(this,e)}var n=-1!=="put post patch".split(" ").indexOf(s);Transmit.prototype[s]=e,n&&(Transmit.prototype[s+"Form"]=e)});var defaultsConfigs={async:!0,autoContentType:!0,baseURL:null,cache:!1,data:{},encryption:!1,headers:{},log:null,logRecord:!0,method:"get",responseType:"text",timeouts:0,url:null,withCredentials:!1},transmit=_createInstance(defaultsConfigs);return transmit.VERSION=VERSION,transmit.Transmit=Transmit,transmit});